{
  "version": 3,
  "sources": ["../../vidstack/dev/chunks/vidstack-C_l97D5j.js"],
  "sourcesContent": ["import { autoUpdate, computePosition, flip, shift } from '@floating-ui/dom';\nimport { EventsController, isKeyboardClick, isTouchEvent, scoped, getScope, effect, toggleClass, signal, listenEvent, animationFrameThrottle, isFunction, setAttribute, setStyle, onDispose, isDOMNode, computed } from './vidstack-Bu2kfzUd.js';\n\nfunction isEventInside(el, event) {\n  const target = event.composedPath()[0];\n  return isDOMNode(target) && el.contains(target);\n}\nconst rafJobs = /* @__PURE__ */ new Set();\n{\n  let processJobs = function() {\n    for (const job of rafJobs) {\n      try {\n        job();\n      } catch (e) {\n        console.error(`[vidstack] failed job:\n\n${e}`);\n      }\n    }\n    window.requestAnimationFrame(processJobs);\n  };\n  processJobs();\n}\nfunction scheduleRafJob(job) {\n  rafJobs.add(job);\n  return () => rafJobs.delete(job);\n}\nfunction setAttributeIfEmpty(target, name, value) {\n  if (!target.hasAttribute(name)) target.setAttribute(name, value);\n}\nfunction setARIALabel(target, $label) {\n  if (target.hasAttribute(\"aria-label\") || target.hasAttribute(\"data-no-label\")) return;\n  if (!isFunction($label)) {\n    setAttribute(target, \"aria-label\", $label);\n    return;\n  }\n  function updateAriaDescription() {\n    setAttribute(target, \"aria-label\", $label());\n  }\n  effect(updateAriaDescription);\n}\nfunction isElementVisible(el) {\n  const style = getComputedStyle(el);\n  return style.display !== \"none\" && parseInt(style.opacity) > 0;\n}\nfunction checkVisibility(el) {\n  return !!el && (\"checkVisibility\" in el ? el.checkVisibility({ checkOpacity: true, checkVisibilityCSS: true }) : isElementVisible(el));\n}\nfunction observeVisibility(el, callback) {\n  return scheduleRafJob(() => callback(checkVisibility(el)));\n}\nfunction isElementParent(owner, node, test) {\n  while (node) {\n    if (node === owner) {\n      return true;\n    } else if (test?.(node)) {\n      break;\n    } else {\n      node = node.parentElement;\n    }\n  }\n  return false;\n}\nfunction onPress(target, handler) {\n  return new EventsController(target).add(\"pointerup\", (event) => {\n    if (event.button === 0 && !event.defaultPrevented) handler(event);\n  }).add(\"keydown\", (event) => {\n    if (isKeyboardClick(event)) handler(event);\n  });\n}\nfunction isTouchPinchEvent(event) {\n  return isTouchEvent(event) && (event.touches.length > 1 || event.changedTouches.length > 1);\n}\nfunction requestScopedAnimationFrame(callback) {\n  let scope = getScope(), id = window.requestAnimationFrame(() => {\n    scoped(callback, scope);\n    id = -1;\n  });\n  return () => void window.cancelAnimationFrame(id);\n}\nfunction cloneTemplate(template, length, onCreate) {\n  let current, prev = template, parent = template.parentElement, content = template.content.firstElementChild, elements = [];\n  if (!content && template.firstElementChild) {\n    template.innerHTML = template.firstElementChild.outerHTML;\n    template.firstElementChild.remove();\n    content = template.content.firstElementChild;\n  }\n  if (content?.nodeType !== 1) {\n    throw Error(\"[vidstack] template must contain root element\");\n  }\n  for (let i = 0; i < length; i++) {\n    current = document.importNode(content, true);\n    onCreate?.(current, i);\n    parent.insertBefore(current, prev.nextSibling);\n    elements.push(current);\n    prev = current;\n  }\n  onDispose(() => {\n    for (let i = 0; i < elements.length; i++) elements[i].remove();\n  });\n  return elements;\n}\nfunction createTemplate(content) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = content;\n  return template.content;\n}\nfunction cloneTemplateContent(content) {\n  const fragment = content.cloneNode(true);\n  return fragment.firstElementChild;\n}\nfunction autoPlacement(el, trigger, placement, {\n  offsetVarName,\n  xOffset,\n  yOffset,\n  ...options\n}) {\n  if (!el) return;\n  const floatingPlacement = placement.replace(\" \", \"-\").replace(\"-center\", \"\");\n  setStyle(el, \"visibility\", !trigger ? \"hidden\" : null);\n  if (!trigger) return;\n  let isTop = placement.includes(\"top\");\n  const negateX = (x) => placement.includes(\"left\") ? `calc(-1 * ${x})` : x, negateY = (y) => isTop ? `calc(-1 * ${y})` : y;\n  return autoUpdate(trigger, el, () => {\n    computePosition(trigger, el, {\n      placement: floatingPlacement,\n      middleware: [\n        ...options.middleware ?? [],\n        flip({ fallbackAxisSideDirection: \"start\", crossAxis: false }),\n        shift()\n      ],\n      ...options\n    }).then(({ x, y, middlewareData }) => {\n      const hasFlipped = !!middlewareData.flip?.index;\n      isTop = placement.includes(hasFlipped ? \"bottom\" : \"top\");\n      el.setAttribute(\n        \"data-placement\",\n        hasFlipped ? placement.startsWith(\"top\") ? placement.replace(\"top\", \"bottom\") : placement.replace(\"bottom\", \"top\") : placement\n      );\n      Object.assign(el.style, {\n        top: `calc(${y + \"px\"} + ${negateY(\n          yOffset ? yOffset + \"px\" : `var(--${offsetVarName}-y-offset, 0px)`\n        )})`,\n        left: `calc(${x + \"px\"} + ${negateX(\n          xOffset ? xOffset + \"px\" : `var(--${offsetVarName}-x-offset, 0px)`\n        )})`\n      });\n    });\n  });\n}\nfunction hasAnimation(el) {\n  const styles = getComputedStyle(el);\n  return styles.animationName !== \"none\";\n}\nfunction createSlot(name) {\n  const slot = document.createElement(\"slot\");\n  slot.name = name;\n  return slot;\n}\nfunction useTransitionActive($el) {\n  const $active = signal(false);\n  effect(() => {\n    const el = $el();\n    if (!el) return;\n    new EventsController(el).add(\"transitionstart\", () => $active.set(true)).add(\"transitionend\", () => $active.set(false));\n  });\n  return $active;\n}\nfunction useResizeObserver($el, onResize) {\n  function onElementChange() {\n    const el = $el();\n    if (!el) return;\n    onResize();\n    const observer = new ResizeObserver(animationFrameThrottle(onResize));\n    observer.observe(el);\n    return () => observer.disconnect();\n  }\n  effect(onElementChange);\n}\nfunction useActive($el) {\n  const $isMouseEnter = useMouseEnter($el), $isFocusedIn = useFocusIn($el);\n  let prevMouseEnter = false;\n  return computed(() => {\n    const isMouseEnter = $isMouseEnter();\n    if (prevMouseEnter && !isMouseEnter) return false;\n    prevMouseEnter = isMouseEnter;\n    return isMouseEnter || $isFocusedIn();\n  });\n}\nfunction useMouseEnter($el) {\n  const $isMouseEnter = signal(false);\n  effect(() => {\n    const el = $el();\n    if (!el) {\n      $isMouseEnter.set(false);\n      return;\n    }\n    new EventsController(el).add(\"mouseenter\", () => $isMouseEnter.set(true)).add(\"mouseleave\", () => $isMouseEnter.set(false));\n  });\n  return $isMouseEnter;\n}\nfunction useFocusIn($el) {\n  const $isFocusIn = signal(false);\n  effect(() => {\n    const el = $el();\n    if (!el) {\n      $isFocusIn.set(false);\n      return;\n    }\n    new EventsController(el).add(\"focusin\", () => $isFocusIn.set(true)).add(\"focusout\", () => $isFocusIn.set(false));\n  });\n  return $isFocusIn;\n}\nfunction isHTMLElement(el) {\n  return el instanceof HTMLElement;\n}\nfunction useColorSchemePreference() {\n  const colorScheme = signal(\"dark\");\n  const media = window.matchMedia(\"(prefers-color-scheme: light)\");\n  function onChange() {\n    colorScheme.set(media.matches ? \"light\" : \"dark\");\n  }\n  onChange();\n  listenEvent(media, \"change\", onChange);\n  return colorScheme;\n}\nfunction watchColorScheme(el, colorScheme) {\n  effect(() => {\n    const scheme = colorScheme();\n    if (scheme === \"system\") {\n      const preference = useColorSchemePreference();\n      effect(() => updateColorScheme(preference()));\n      return;\n    }\n    updateColorScheme(scheme);\n  });\n  function updateColorScheme(scheme) {\n    toggleClass(el, \"light\", scheme === \"light\");\n    toggleClass(el, \"dark\", scheme === \"dark\");\n  }\n}\n\nfunction ariaBool(value) {\n  return value ? \"true\" : \"false\";\n}\nfunction $ariaBool(signal) {\n  return () => ariaBool(signal());\n}\nfunction prefersReducedMotion() {\n  if (typeof window === \"undefined\") return false;\n  return window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\n}\n\nexport { $ariaBool, autoPlacement, cloneTemplate, cloneTemplateContent, createSlot, createTemplate, hasAnimation, isElementParent, isElementVisible, isEventInside, isHTMLElement, isTouchPinchEvent, observeVisibility, onPress, prefersReducedMotion, requestScopedAnimationFrame, setARIALabel, setAttributeIfEmpty, useActive, useResizeObserver, useTransitionActive, watchColorScheme };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,SAAS,cAAc,IAAI,OAAO;AAChC,QAAM,SAAS,MAAM,aAAa,EAAE,CAAC;AACrC,SAAO,UAAU,MAAM,KAAK,GAAG,SAAS,MAAM;AAChD;AACA,IAAM,UAA0B,oBAAI,IAAI;AACxC;AACE,MAAI,cAAc,WAAW;AAC3B,eAAW,OAAO,SAAS;AACzB,UAAI;AACF,YAAI;AAAA,MACN,SAAS,GAAG;AACV,gBAAQ,MAAM;AAAA;AAAA,EAEpB,CAAC,EAAE;AAAA,MACC;AAAA,IACF;AACA,WAAO,sBAAsB,WAAW;AAAA,EAC1C;AACA,cAAY;AACd;AACA,SAAS,eAAe,KAAK;AAC3B,UAAQ,IAAI,GAAG;AACf,SAAO,MAAM,QAAQ,OAAO,GAAG;AACjC;AACA,SAAS,oBAAoB,QAAQ,MAAM,OAAO;AAChD,MAAI,CAAC,OAAO,aAAa,IAAI,EAAG,QAAO,aAAa,MAAM,KAAK;AACjE;AACA,SAAS,aAAa,QAAQ,QAAQ;AACpC,MAAI,OAAO,aAAa,YAAY,KAAK,OAAO,aAAa,eAAe,EAAG;AAC/E,MAAI,CAAC,WAAW,MAAM,GAAG;AACvB,iBAAa,QAAQ,cAAc,MAAM;AACzC;AAAA,EACF;AACA,WAAS,wBAAwB;AAC/B,iBAAa,QAAQ,cAAc,OAAO,CAAC;AAAA,EAC7C;AACA,SAAO,qBAAqB;AAC9B;AACA,SAAS,iBAAiB,IAAI;AAC5B,QAAM,QAAQ,iBAAiB,EAAE;AACjC,SAAO,MAAM,YAAY,UAAU,SAAS,MAAM,OAAO,IAAI;AAC/D;AACA,SAAS,gBAAgB,IAAI;AAC3B,SAAO,CAAC,CAAC,OAAO,qBAAqB,KAAK,GAAG,gBAAgB,EAAE,cAAc,MAAM,oBAAoB,KAAK,CAAC,IAAI,iBAAiB,EAAE;AACtI;AACA,SAAS,kBAAkB,IAAI,UAAU;AACvC,SAAO,eAAe,MAAM,SAAS,gBAAgB,EAAE,CAAC,CAAC;AAC3D;AACA,SAAS,gBAAgB,OAAO,MAAM,MAAM;AAC1C,SAAO,MAAM;AACX,QAAI,SAAS,OAAO;AAClB,aAAO;AAAA,IACT,WAAW,OAAO,IAAI,GAAG;AACvB;AAAA,IACF,OAAO;AACL,aAAO,KAAK;AAAA,IACd;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,QAAQ,QAAQ,SAAS;AAChC,SAAO,IAAI,iBAAiB,MAAM,EAAE,IAAI,aAAa,CAAC,UAAU;AAC9D,QAAI,MAAM,WAAW,KAAK,CAAC,MAAM,iBAAkB,SAAQ,KAAK;AAAA,EAClE,CAAC,EAAE,IAAI,WAAW,CAAC,UAAU;AAC3B,QAAI,gBAAgB,KAAK,EAAG,SAAQ,KAAK;AAAA,EAC3C,CAAC;AACH;AACA,SAAS,kBAAkB,OAAO;AAChC,SAAO,aAAa,KAAK,MAAM,MAAM,QAAQ,SAAS,KAAK,MAAM,eAAe,SAAS;AAC3F;AACA,SAAS,4BAA4B,UAAU;AAC7C,MAAI,QAAQ,SAAS,GAAG,KAAK,OAAO,sBAAsB,MAAM;AAC9D,WAAO,UAAU,KAAK;AACtB,SAAK;AAAA,EACP,CAAC;AACD,SAAO,MAAM,KAAK,OAAO,qBAAqB,EAAE;AAClD;AACA,SAAS,cAAc,UAAU,QAAQ,UAAU;AACjD,MAAI,SAAS,OAAO,UAAU,SAAS,SAAS,eAAe,UAAU,SAAS,QAAQ,mBAAmB,WAAW,CAAC;AACzH,MAAI,CAAC,WAAW,SAAS,mBAAmB;AAC1C,aAAS,YAAY,SAAS,kBAAkB;AAChD,aAAS,kBAAkB,OAAO;AAClC,cAAU,SAAS,QAAQ;AAAA,EAC7B;AACA,MAAI,SAAS,aAAa,GAAG;AAC3B,UAAM,MAAM,+CAA+C;AAAA,EAC7D;AACA,WAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,cAAU,SAAS,WAAW,SAAS,IAAI;AAC3C,eAAW,SAAS,CAAC;AACrB,WAAO,aAAa,SAAS,KAAK,WAAW;AAC7C,aAAS,KAAK,OAAO;AACrB,WAAO;AAAA,EACT;AACA,YAAU,MAAM;AACd,aAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,IAAK,UAAS,CAAC,EAAE,OAAO;AAAA,EAC/D,CAAC;AACD,SAAO;AACT;AACA,SAAS,eAAe,SAAS;AAC/B,QAAM,WAAW,SAAS,cAAc,UAAU;AAClD,WAAS,YAAY;AACrB,SAAO,SAAS;AAClB;AACA,SAAS,qBAAqB,SAAS;AACrC,QAAM,WAAW,QAAQ,UAAU,IAAI;AACvC,SAAO,SAAS;AAClB;AACA,SAAS,cAAc,IAAI,SAAS,WAAW;AAAA,EAC7C;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAG;AACD,MAAI,CAAC,GAAI;AACT,QAAM,oBAAoB,UAAU,QAAQ,KAAK,GAAG,EAAE,QAAQ,WAAW,EAAE;AAC3E,WAAS,IAAI,cAAc,CAAC,UAAU,WAAW,IAAI;AACrD,MAAI,CAAC,QAAS;AACd,MAAI,QAAQ,UAAU,SAAS,KAAK;AACpC,QAAM,UAAU,CAAC,MAAM,UAAU,SAAS,MAAM,IAAI,aAAa,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,QAAQ,aAAa,CAAC,MAAM;AACxH,SAAO,WAAW,SAAS,IAAI,MAAM;AACnC,oBAAgB,SAAS,IAAI;AAAA,MAC3B,WAAW;AAAA,MACX,YAAY;AAAA,QACV,GAAG,QAAQ,cAAc,CAAC;AAAA,QAC1B,KAAK,EAAE,2BAA2B,SAAS,WAAW,MAAM,CAAC;AAAA,QAC7D,MAAM;AAAA,MACR;AAAA,MACA,GAAG;AAAA,IACL,CAAC,EAAE,KAAK,CAAC,EAAE,GAAG,GAAG,eAAe,MAAM;AACpC,YAAM,aAAa,CAAC,CAAC,eAAe,MAAM;AAC1C,cAAQ,UAAU,SAAS,aAAa,WAAW,KAAK;AACxD,SAAG;AAAA,QACD;AAAA,QACA,aAAa,UAAU,WAAW,KAAK,IAAI,UAAU,QAAQ,OAAO,QAAQ,IAAI,UAAU,QAAQ,UAAU,KAAK,IAAI;AAAA,MACvH;AACA,aAAO,OAAO,GAAG,OAAO;AAAA,QACtB,KAAK,QAAQ,IAAI,IAAI,MAAM;AAAA,UACzB,UAAU,UAAU,OAAO,SAAS,aAAa;AAAA,QACnD,CAAC;AAAA,QACD,MAAM,QAAQ,IAAI,IAAI,MAAM;AAAA,UAC1B,UAAU,UAAU,OAAO,SAAS,aAAa;AAAA,QACnD,CAAC;AAAA,MACH,CAAC;AAAA,IACH,CAAC;AAAA,EACH,CAAC;AACH;AACA,SAAS,aAAa,IAAI;AACxB,QAAM,SAAS,iBAAiB,EAAE;AAClC,SAAO,OAAO,kBAAkB;AAClC;AACA,SAAS,WAAW,MAAM;AACxB,QAAM,OAAO,SAAS,cAAc,MAAM;AAC1C,OAAK,OAAO;AACZ,SAAO;AACT;AACA,SAAS,oBAAoB,KAAK;AAChC,QAAM,UAAU,OAAO,KAAK;AAC5B,SAAO,MAAM;AACX,UAAM,KAAK,IAAI;AACf,QAAI,CAAC,GAAI;AACT,QAAI,iBAAiB,EAAE,EAAE,IAAI,mBAAmB,MAAM,QAAQ,IAAI,IAAI,CAAC,EAAE,IAAI,iBAAiB,MAAM,QAAQ,IAAI,KAAK,CAAC;AAAA,EACxH,CAAC;AACD,SAAO;AACT;AACA,SAAS,kBAAkB,KAAK,UAAU;AACxC,WAAS,kBAAkB;AACzB,UAAM,KAAK,IAAI;AACf,QAAI,CAAC,GAAI;AACT,aAAS;AACT,UAAM,WAAW,IAAI,eAAe,uBAAuB,QAAQ,CAAC;AACpE,aAAS,QAAQ,EAAE;AACnB,WAAO,MAAM,SAAS,WAAW;AAAA,EACnC;AACA,SAAO,eAAe;AACxB;AACA,SAAS,UAAU,KAAK;AACtB,QAAM,gBAAgB,cAAc,GAAG,GAAG,eAAe,WAAW,GAAG;AACvE,MAAI,iBAAiB;AACrB,SAAO,SAAS,MAAM;AACpB,UAAM,eAAe,cAAc;AACnC,QAAI,kBAAkB,CAAC,aAAc,QAAO;AAC5C,qBAAiB;AACjB,WAAO,gBAAgB,aAAa;AAAA,EACtC,CAAC;AACH;AACA,SAAS,cAAc,KAAK;AAC1B,QAAM,gBAAgB,OAAO,KAAK;AAClC,SAAO,MAAM;AACX,UAAM,KAAK,IAAI;AACf,QAAI,CAAC,IAAI;AACP,oBAAc,IAAI,KAAK;AACvB;AAAA,IACF;AACA,QAAI,iBAAiB,EAAE,EAAE,IAAI,cAAc,MAAM,cAAc,IAAI,IAAI,CAAC,EAAE,IAAI,cAAc,MAAM,cAAc,IAAI,KAAK,CAAC;AAAA,EAC5H,CAAC;AACD,SAAO;AACT;AACA,SAAS,WAAW,KAAK;AACvB,QAAM,aAAa,OAAO,KAAK;AAC/B,SAAO,MAAM;AACX,UAAM,KAAK,IAAI;AACf,QAAI,CAAC,IAAI;AACP,iBAAW,IAAI,KAAK;AACpB;AAAA,IACF;AACA,QAAI,iBAAiB,EAAE,EAAE,IAAI,WAAW,MAAM,WAAW,IAAI,IAAI,CAAC,EAAE,IAAI,YAAY,MAAM,WAAW,IAAI,KAAK,CAAC;AAAA,EACjH,CAAC;AACD,SAAO;AACT;AACA,SAAS,cAAc,IAAI;AACzB,SAAO,cAAc;AACvB;AACA,SAAS,2BAA2B;AAClC,QAAM,cAAc,OAAO,MAAM;AACjC,QAAM,QAAQ,OAAO,WAAW,+BAA+B;AAC/D,WAAS,WAAW;AAClB,gBAAY,IAAI,MAAM,UAAU,UAAU,MAAM;AAAA,EAClD;AACA,WAAS;AACT,cAAY,OAAO,UAAU,QAAQ;AACrC,SAAO;AACT;AACA,SAAS,iBAAiB,IAAI,aAAa;AACzC,SAAO,MAAM;AACX,UAAM,SAAS,YAAY;AAC3B,QAAI,WAAW,UAAU;AACvB,YAAM,aAAa,yBAAyB;AAC5C,aAAO,MAAM,kBAAkB,WAAW,CAAC,CAAC;AAC5C;AAAA,IACF;AACA,sBAAkB,MAAM;AAAA,EAC1B,CAAC;AACD,WAAS,kBAAkB,QAAQ;AACjC,gBAAY,IAAI,SAAS,WAAW,OAAO;AAC3C,gBAAY,IAAI,QAAQ,WAAW,MAAM;AAAA,EAC3C;AACF;AAEA,SAAS,SAAS,OAAO;AACvB,SAAO,QAAQ,SAAS;AAC1B;AACA,SAAS,UAAUA,SAAQ;AACzB,SAAO,MAAM,SAASA,QAAO,CAAC;AAChC;AACA,SAAS,uBAAuB;AAC9B,MAAI,OAAO,WAAW,YAAa,QAAO;AAC1C,SAAO,OAAO,WAAW,kCAAkC,EAAE;AAC/D;",
  "names": ["signal"]
}
