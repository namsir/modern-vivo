{
  "version": 3,
  "sources": ["../../vidstack/dev/chunks/vidstack-CofXIJAy.js"],
  "sourcesContent": ["import { signal, listenEvent, ViewController, effect, EventsController, setAttribute } from './vidstack-Bu2kfzUd.js';\n\nlet $keyboard = signal(false);\n{\n  listenEvent(document, \"pointerdown\", () => {\n    $keyboard.set(false);\n  });\n  listenEvent(document, \"keydown\", (e) => {\n    if (e.metaKey || e.altKey || e.ctrlKey) return;\n    $keyboard.set(true);\n  });\n}\nclass FocusVisibleController extends ViewController {\n  #focused = signal(false);\n  onConnect(el) {\n    effect(() => {\n      const events = new EventsController(el);\n      if (!$keyboard()) {\n        this.#focused.set(false);\n        updateFocusAttr(el, false);\n        events.add(\"pointerenter\", this.#onPointerEnter.bind(this)).add(\"pointerleave\", this.#onPointerLeave.bind(this));\n        return;\n      }\n      const active = document.activeElement === el;\n      this.#focused.set(active);\n      updateFocusAttr(el, active);\n      events.add(\"focus\", this.#onFocus.bind(this)).add(\"blur\", this.#onBlur.bind(this));\n    });\n  }\n  focused() {\n    return this.#focused();\n  }\n  #onFocus() {\n    this.#focused.set(true);\n    updateFocusAttr(this.el, true);\n  }\n  #onBlur() {\n    this.#focused.set(false);\n    updateFocusAttr(this.el, false);\n  }\n  #onPointerEnter() {\n    updateHoverAttr(this.el, true);\n  }\n  #onPointerLeave() {\n    updateHoverAttr(this.el, false);\n  }\n}\nfunction updateFocusAttr(el, isFocused) {\n  setAttribute(el, \"data-focus\", isFocused);\n  setAttribute(el, \"data-hocus\", isFocused);\n}\nfunction updateHoverAttr(el, isHovering) {\n  setAttribute(el, \"data-hocus\", isHovering);\n  setAttribute(el, \"data-hover\", isHovering);\n}\n\nexport { $keyboard, FocusVisibleController };\n"],
  "mappings": ";;;;;;;;;;AAEA,IAAI,YAAY,OAAO,KAAK;AAC5B;AACE,cAAY,UAAU,eAAe,MAAM;AACzC,cAAU,IAAI,KAAK;AAAA,EACrB,CAAC;AACD,cAAY,UAAU,WAAW,CAAC,MAAM;AACtC,QAAI,EAAE,WAAW,EAAE,UAAU,EAAE,QAAS;AACxC,cAAU,IAAI,IAAI;AAAA,EACpB,CAAC;AACH;AACA,IAAM,yBAAN,cAAqC,eAAe;AAAA,EAClD,WAAW,OAAO,KAAK;AAAA,EACvB,UAAU,IAAI;AACZ,WAAO,MAAM;AACX,YAAM,SAAS,IAAI,iBAAiB,EAAE;AACtC,UAAI,CAAC,UAAU,GAAG;AAChB,aAAK,SAAS,IAAI,KAAK;AACvB,wBAAgB,IAAI,KAAK;AACzB,eAAO,IAAI,gBAAgB,KAAK,gBAAgB,KAAK,IAAI,CAAC,EAAE,IAAI,gBAAgB,KAAK,gBAAgB,KAAK,IAAI,CAAC;AAC/G;AAAA,MACF;AACA,YAAM,SAAS,SAAS,kBAAkB;AAC1C,WAAK,SAAS,IAAI,MAAM;AACxB,sBAAgB,IAAI,MAAM;AAC1B,aAAO,IAAI,SAAS,KAAK,SAAS,KAAK,IAAI,CAAC,EAAE,IAAI,QAAQ,KAAK,QAAQ,KAAK,IAAI,CAAC;AAAA,IACnF,CAAC;AAAA,EACH;AAAA,EACA,UAAU;AACR,WAAO,KAAK,SAAS;AAAA,EACvB;AAAA,EACA,WAAW;AACT,SAAK,SAAS,IAAI,IAAI;AACtB,oBAAgB,KAAK,IAAI,IAAI;AAAA,EAC/B;AAAA,EACA,UAAU;AACR,SAAK,SAAS,IAAI,KAAK;AACvB,oBAAgB,KAAK,IAAI,KAAK;AAAA,EAChC;AAAA,EACA,kBAAkB;AAChB,oBAAgB,KAAK,IAAI,IAAI;AAAA,EAC/B;AAAA,EACA,kBAAkB;AAChB,oBAAgB,KAAK,IAAI,KAAK;AAAA,EAChC;AACF;AACA,SAAS,gBAAgB,IAAI,WAAW;AACtC,eAAa,IAAI,cAAc,SAAS;AACxC,eAAa,IAAI,cAAc,SAAS;AAC1C;AACA,SAAS,gBAAgB,IAAI,YAAY;AACvC,eAAa,IAAI,cAAc,UAAU;AACzC,eAAa,IAAI,cAAc,UAAU;AAC3C;",
  "names": []
}
