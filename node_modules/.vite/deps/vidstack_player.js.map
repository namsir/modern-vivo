{
  "version": 3,
  "sources": ["../../vidstack/dev/chunks/vidstack-Ca4Etzsv.js", "../../vidstack/dev/define/vidstack-player.js"],
  "sourcesContent": ["import { Host, effect, setAttribute, computed } from './vidstack-Bu2kfzUd.js';\nimport { MediaProvider, MediaPlayer } from './vidstack-7RO-J1Y1.js';\nimport { useMediaContext } from './vidstack-DFImIcIL.js';\n\nclass MediaProviderElement extends Host(HTMLElement, MediaProvider) {\n  static tagName = \"media-provider\";\n  #media;\n  #target = null;\n  #blocker = null;\n  onSetup() {\n    this.#media = useMediaContext();\n    this.setAttribute(\"keep-alive\", \"\");\n  }\n  onDestroy() {\n    this.#blocker?.remove();\n    this.#blocker = null;\n    this.#target?.remove();\n    this.#target = null;\n  }\n  onConnect() {\n    effect(() => {\n      const loader = this.$state.loader(), isYouTubeEmbed = loader?.name === \"youtube\", isVimeoEmbed = loader?.name === \"vimeo\", isEmbed = isYouTubeEmbed || isVimeoEmbed, isGoogleCast = loader?.name === \"google-cast\";\n      const target = loader ? isGoogleCast ? this.#createGoogleCastContainer() : isEmbed ? this.#createIFrame() : loader.mediaType() === \"audio\" ? this.#createAudio() : this.#createVideo() : null;\n      if (this.#target !== target) {\n        const parent = this.#target?.parentElement ?? this;\n        this.#target?.remove();\n        this.#target = target;\n        if (target) parent.prepend(target);\n        if (isEmbed && target) {\n          effect(() => {\n            const { nativeControls, viewType } = this.#media.$state, showNativeControls = nativeControls(), isAudioView = viewType() === \"audio\", showBlocker = !showNativeControls && !isAudioView;\n            if (showBlocker) {\n              this.#blocker = this.querySelector(\".vds-blocker\");\n              if (!this.#blocker) {\n                this.#blocker = document.createElement(\"div\");\n                this.#blocker.classList.add(\"vds-blocker\");\n                target.after(this.#blocker);\n              }\n            } else {\n              this.#blocker?.remove();\n              this.#blocker = null;\n            }\n            setAttribute(target, \"data-no-controls\", !showNativeControls);\n          });\n        }\n      }\n      if (isYouTubeEmbed) target?.classList.add(\"vds-youtube\");\n      else if (isVimeoEmbed) target?.classList.add(\"vds-vimeo\");\n      if (!isEmbed) {\n        this.#blocker?.remove();\n        this.#blocker = null;\n      }\n      this.load(target);\n    });\n  }\n  #createAudio() {\n    const audio = this.#target instanceof HTMLAudioElement ? this.#target : document.createElement(\"audio\");\n    const { controls, crossOrigin } = this.#media.$state;\n    effect(() => {\n      setAttribute(audio, \"controls\", controls());\n      setAttribute(audio, \"crossorigin\", crossOrigin());\n    });\n    return audio;\n  }\n  #createVideo() {\n    const video = this.#target instanceof HTMLVideoElement ? this.#target : document.createElement(\"video\");\n    const { crossOrigin, poster, nativeControls } = this.#media.$state, $controls = computed(() => nativeControls() ? \"true\" : null), $poster = computed(() => poster() && nativeControls() ? poster() : null);\n    effect(() => {\n      setAttribute(video, \"controls\", $controls());\n      setAttribute(video, \"crossorigin\", crossOrigin());\n      setAttribute(video, \"poster\", $poster());\n    });\n    return video;\n  }\n  #createIFrame() {\n    const iframe = this.#target instanceof HTMLIFrameElement ? this.#target : document.createElement(\"iframe\"), { nativeControls } = this.#media.$state;\n    effect(() => setAttribute(iframe, \"tabindex\", !nativeControls() ? -1 : null));\n    return iframe;\n  }\n  #createGoogleCastContainer() {\n    if (this.#target?.classList.contains(\"vds-google-cast\")) {\n      return this.#target;\n    }\n    const container = document.createElement(\"div\");\n    container.classList.add(\"vds-google-cast\");\n    import('./vidstack-Bl4b0Nen.js').then(({ insertContent }) => {\n      insertContent(container, this.#media.$state);\n    });\n    return container;\n  }\n}\n\nclass MediaPlayerElement extends Host(HTMLElement, MediaPlayer) {\n  static tagName = \"media-player\";\n  static attrs = {\n    autoPlay: \"autoplay\",\n    crossOrigin: \"crossorigin\",\n    playsInline: \"playsinline\",\n    preferNativeHLS: \"prefer-native-hls\",\n    minLiveDVRWindow: \"min-live-dvr-window\"\n  };\n}\n\nexport { MediaPlayerElement, MediaProviderElement };\n", "import { defineCustomElement } from '../chunks/vidstack-Bu2kfzUd.js';\nimport { MediaPlayerElement, MediaProviderElement } from '../chunks/vidstack-Ca4Etzsv.js';\nimport '../chunks/vidstack-7RO-J1Y1.js';\nimport '../chunks/vidstack-DFImIcIL.js';\nimport '../chunks/vidstack-CjhKISI0.js';\nimport '../chunks/vidstack-BFg1ZqiG.js';\nimport '../chunks/vidstack-BYNmVJLa.js';\nimport '../chunks/vidstack-zG6PIeGg.js';\nimport '../chunks/vidstack-28cU2iGK.js';\nimport '../chunks/vidstack-Dv_LIPFu.js';\nimport '../chunks/vidstack-Bpr4fI4n.js';\nimport '../chunks/vidstack-DbBJlz7I.js';\nimport '../chunks/vidstack-C_l97D5j.js';\nimport '@floating-ui/dom';\nimport '../chunks/vidstack-Dihypf8P.js';\nimport '../chunks/vidstack-CofXIJAy.js';\n\ndefineCustomElement(MediaPlayerElement);\ndefineCustomElement(MediaProviderElement);\n"],
  "mappings": "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",
  "names": []
}
