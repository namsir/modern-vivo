{
  "version": 3,
  "sources": ["../../vidstack/dev/chunks/vidstack-CjhKISI0.js"],
  "sourcesContent": ["import { isFunction, isUndefined, waitTimeout, isString } from './vidstack-Bu2kfzUd.js';\n\nconst UA = navigator?.userAgent.toLowerCase() || \"\";\nconst IS_IOS = /iphone|ipad|ipod|ios|crios|fxios/i.test(UA);\nconst IS_IPHONE = /(iphone|ipod)/gi.test(navigator?.platform || \"\");\nconst IS_CHROME = !!window.chrome;\nconst IS_SAFARI = !!window.safari || IS_IOS;\nfunction canOrientScreen() {\n  return canRotateScreen() && isFunction(screen.orientation.unlock);\n}\nfunction canRotateScreen() {\n  return !isUndefined(window.screen.orientation) && !isUndefined(window.screen.orientation.lock);\n}\nfunction canPlayAudioType(audio, type) {\n  if (!audio) audio = document.createElement(\"audio\");\n  return audio.canPlayType(type).length > 0;\n}\nfunction canPlayVideoType(video, type) {\n  if (!video) video = document.createElement(\"video\");\n  return video.canPlayType(type).length > 0;\n}\nfunction canPlayHLSNatively(video) {\n  if (!video) video = document.createElement(\"video\");\n  return video.canPlayType(\"application/vnd.apple.mpegurl\").length > 0;\n}\nfunction canUsePictureInPicture(video) {\n  return !!document.pictureInPictureEnabled && !video?.disablePictureInPicture;\n}\nfunction canUseVideoPresentation(video) {\n  return isFunction(video?.webkitSupportsPresentationMode) && isFunction(video?.webkitSetPresentationMode);\n}\nasync function canChangeVolume() {\n  const video = document.createElement(\"video\");\n  video.volume = 0.5;\n  await waitTimeout(0);\n  return video.volume === 0.5;\n}\nfunction getMediaSource() {\n  return window?.ManagedMediaSource ?? window?.MediaSource ?? window?.WebKitMediaSource;\n}\nfunction getSourceBuffer() {\n  return window?.SourceBuffer ?? window?.WebKitSourceBuffer;\n}\nfunction isHLSSupported() {\n  const MediaSource = getMediaSource();\n  if (isUndefined(MediaSource)) return false;\n  const isTypeSupported = MediaSource && isFunction(MediaSource.isTypeSupported) && MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\n  const SourceBuffer = getSourceBuffer();\n  const isSourceBufferValid = isUndefined(SourceBuffer) || !isUndefined(SourceBuffer.prototype) && isFunction(SourceBuffer.prototype.appendBuffer) && isFunction(SourceBuffer.prototype.remove);\n  return !!isTypeSupported && !!isSourceBufferValid;\n}\nfunction isDASHSupported() {\n  return isHLSSupported();\n}\n\nconst AUDIO_EXTENSIONS = /\\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\\?)/i;\nconst AUDIO_TYPES = /* @__PURE__ */ new Set([\n  \"audio/mpeg\",\n  \"audio/ogg\",\n  \"audio/3gp\",\n  \"audio/mp3\",\n  \"audio/webm\",\n  \"audio/flac\",\n  \"audio/m4a\",\n  \"audio/m4b\",\n  \"audio/mp4a\",\n  \"audio/mp4\"\n]);\nconst VIDEO_EXTENSIONS = /\\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\\d+]+)?($|\\?)/i;\nconst VIDEO_TYPES = /* @__PURE__ */ new Set([\n  \"video/mp4\",\n  \"video/webm\",\n  \"video/3gp\",\n  \"video/ogg\",\n  \"video/avi\",\n  \"video/mpeg\"\n]);\nconst HLS_VIDEO_EXTENSIONS = /\\.(m3u8)($|\\?)/i;\nconst DASH_VIDEO_EXTENSIONS = /\\.(mpd)($|\\?)/i;\nconst HLS_VIDEO_TYPES = /* @__PURE__ */ new Set([\n  // Apple sanctioned\n  \"application/vnd.apple.mpegurl\",\n  // Apple sanctioned for backwards compatibility\n  \"audio/mpegurl\",\n  // Very common\n  \"audio/x-mpegurl\",\n  // Very common\n  \"application/x-mpegurl\",\n  // Included for completeness\n  \"video/x-mpegurl\",\n  \"video/mpegurl\",\n  \"application/mpegurl\"\n]);\nconst DASH_VIDEO_TYPES = /* @__PURE__ */ new Set([\"application/dash+xml\"]);\nfunction isAudioSrc({ src, type }) {\n  return isString(src) ? AUDIO_EXTENSIONS.test(src) || AUDIO_TYPES.has(type) || src.startsWith(\"blob:\") && type === \"audio/object\" : type === \"audio/object\";\n}\nfunction isVideoSrc(src) {\n  return isString(src.src) ? VIDEO_EXTENSIONS.test(src.src) || VIDEO_TYPES.has(src.type) || src.src.startsWith(\"blob:\") && src.type === \"video/object\" || isHLSSrc(src) && canPlayHLSNatively() : src.type === \"video/object\";\n}\nfunction isHLSSrc({ src, type }) {\n  return isString(src) && HLS_VIDEO_EXTENSIONS.test(src) || HLS_VIDEO_TYPES.has(type);\n}\nfunction isDASHSrc({ src, type }) {\n  return isString(src) && DASH_VIDEO_EXTENSIONS.test(src) || DASH_VIDEO_TYPES.has(type);\n}\nfunction canGoogleCastSrc(src) {\n  return isString(src.src) && (isAudioSrc(src) || isVideoSrc(src) || isHLSSrc(src));\n}\nfunction isMediaStream(src) {\n  return typeof window.MediaStream !== \"undefined\" && src instanceof window.MediaStream;\n}\n\nexport { AUDIO_EXTENSIONS, AUDIO_TYPES, DASH_VIDEO_EXTENSIONS, DASH_VIDEO_TYPES, HLS_VIDEO_EXTENSIONS, HLS_VIDEO_TYPES, IS_CHROME, IS_IOS, IS_IPHONE, IS_SAFARI, VIDEO_EXTENSIONS, VIDEO_TYPES, canChangeVolume, canGoogleCastSrc, canOrientScreen, canPlayAudioType, canPlayHLSNatively, canPlayVideoType, canRotateScreen, canUsePictureInPicture, canUseVideoPresentation, isAudioSrc, isDASHSrc, isDASHSupported, isHLSSrc, isHLSSupported, isMediaStream, isVideoSrc };\n"],
  "mappings": "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",
  "names": []
}
