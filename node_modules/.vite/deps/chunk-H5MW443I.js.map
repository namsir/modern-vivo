{
  "version": 3,
  "sources": ["../../vidstack/dev/chunks/vidstack-28cU2iGK.js"],
  "sourcesContent": ["import { listenEvent, scoped, getScope, isString } from './vidstack-Bu2kfzUd.js';\n\nfunction findActiveCue(cues, time) {\n  for (let i = 0, len = cues.length; i < len; i++) {\n    if (isCueActive(cues[i], time)) return cues[i];\n  }\n  return null;\n}\nfunction isCueActive(cue, time) {\n  return time >= cue.startTime && time < cue.endTime;\n}\nfunction watchActiveTextTrack(tracks, kind, onChange) {\n  let currentTrack = null, scope = getScope();\n  function onModeChange() {\n    const kinds = isString(kind) ? [kind] : kind, track = tracks.toArray().find((track2) => kinds.includes(track2.kind) && track2.mode === \"showing\");\n    if (track === currentTrack) return;\n    if (!track) {\n      onChange(null);\n      currentTrack = null;\n      return;\n    }\n    if (track.readyState == 2) {\n      onChange(track);\n    } else {\n      onChange(null);\n      scoped(() => {\n        const off = listenEvent(\n          track,\n          \"load\",\n          () => {\n            onChange(track);\n            off();\n          },\n          { once: true }\n        );\n      }, scope);\n    }\n    currentTrack = track;\n  }\n  onModeChange();\n  return listenEvent(tracks, \"mode-change\", onModeChange);\n}\nfunction watchCueTextChange(tracks, kind, callback) {\n  watchActiveTextTrack(tracks, kind, (track) => {\n    if (!track) {\n      callback(\"\");\n      return;\n    }\n    const onCueChange = () => {\n      const activeCue = track?.activeCues[0];\n      callback(activeCue?.text || \"\");\n    };\n    onCueChange();\n    listenEvent(track, \"cue-change\", onCueChange);\n  });\n}\n\nexport { findActiveCue, isCueActive, watchActiveTextTrack, watchCueTextChange };\n"],
  "mappings": ";;;;;;;;AAEA,SAAS,cAAc,MAAM,MAAM;AACjC,WAAS,IAAI,GAAG,MAAM,KAAK,QAAQ,IAAI,KAAK,KAAK;AAC/C,QAAI,YAAY,KAAK,CAAC,GAAG,IAAI,EAAG,QAAO,KAAK,CAAC;AAAA,EAC/C;AACA,SAAO;AACT;AACA,SAAS,YAAY,KAAK,MAAM;AAC9B,SAAO,QAAQ,IAAI,aAAa,OAAO,IAAI;AAC7C;AACA,SAAS,qBAAqB,QAAQ,MAAM,UAAU;AACpD,MAAI,eAAe,MAAM,QAAQ,SAAS;AAC1C,WAAS,eAAe;AACtB,UAAM,QAAQ,SAAS,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,QAAQ,OAAO,QAAQ,EAAE,KAAK,CAAC,WAAW,MAAM,SAAS,OAAO,IAAI,KAAK,OAAO,SAAS,SAAS;AAChJ,QAAI,UAAU,aAAc;AAC5B,QAAI,CAAC,OAAO;AACV,eAAS,IAAI;AACb,qBAAe;AACf;AAAA,IACF;AACA,QAAI,MAAM,cAAc,GAAG;AACzB,eAAS,KAAK;AAAA,IAChB,OAAO;AACL,eAAS,IAAI;AACb,aAAO,MAAM;AACX,cAAM,MAAM;AAAA,UACV;AAAA,UACA;AAAA,UACA,MAAM;AACJ,qBAAS,KAAK;AACd,gBAAI;AAAA,UACN;AAAA,UACA,EAAE,MAAM,KAAK;AAAA,QACf;AAAA,MACF,GAAG,KAAK;AAAA,IACV;AACA,mBAAe;AAAA,EACjB;AACA,eAAa;AACb,SAAO,YAAY,QAAQ,eAAe,YAAY;AACxD;AACA,SAAS,mBAAmB,QAAQ,MAAM,UAAU;AAClD,uBAAqB,QAAQ,MAAM,CAAC,UAAU;AAC5C,QAAI,CAAC,OAAO;AACV,eAAS,EAAE;AACX;AAAA,IACF;AACA,UAAM,cAAc,MAAM;AACxB,YAAM,YAAY,OAAO,WAAW,CAAC;AACrC,eAAS,WAAW,QAAQ,EAAE;AAAA,IAChC;AACA,gBAAY;AACZ,gBAAY,OAAO,cAAc,WAAW;AAAA,EAC9C,CAAC;AACH;",
  "names": []
}
